# 第一章：金流介紹與技術選型

> **章節目標**：建立金流全局觀、理解串接方式分類、學會技術選型的判斷框架  
> **章節類型**：概念型（思維建立）  
> **預估時長**：12-15 分鐘  
> **適合試看**：✅ 是（展現核心價值、建立信任、營造期待）

---

## 📋 章節結構總覽

```
1. 開場：痛點場景 (1-2 分鐘)
2. 金流定義與使用場景 (2-3 分鐘)
3. 金流串接方式分類 (3-4 分鐘)
4. 需求分析與技術選型 (4-5 分鐘)
5. 選擇 PAYUNi 與付款頁模式 (2-3 分鐘)
6. 結尾：課程預覽 (1-2 分鐘)
```

---

## 🎬 第一部分：開場 - 痛點場景

### 簡報要點
- 標題：「金流串接，為什麼總是做到懷疑人生？」
- 三個痛點場景（配圖示或 icon）

### 口語腳本提示

```
【開場白】
嘿，大家好，我是 cab_late。

不知道你有沒有這樣的經驗：
- 想做個有付費功能的 Side Project，結果一看金流文件就頭痛？
- 或者接到含金流的案子，擔心做錯一步就出資安問題？
- 又或者，站在一堆金流平台前面，不確定該選哪家、用哪種串接方式？

【推力策略 - 放大地獄】
我想讓各位感受一下那種焦慮：想像你花三個月心血打造的產品，所有功能都完美，就差最後一步收錢。你心想，串個金流一個下午搞定。結果，你一頭栽進了 API 文件的海，裡面全是看不懂的縮寫、模糊的參數，還有那該死的驗證。三天過去，你還在跟測試環境的錯誤訊息奮鬥。這時你面對的已不只是技術問題，而是你心血能不能順利變現的巨大壓力。

如果你有這些困擾，那這堂課就是為你設計的。

【轉折】
很多人以為金流串接很難，是因為技術很複雜。
但其實，最難的不是技術。

最難的是：你到底知不知道自己在做什麼？

【本章目標】
這一章，我不會直接教你怎麼寫程式。
我會先帶你建立一個「選擇金流的判斷框架」。

看完這章，你會知道：
✓ 金流有哪些串接方式
✓ 每種方式的優缺點是什麼
✓ 我們為什麼選擇付款頁模式
✓ 這樣的選擇會影響後續的哪些設計

準備好了嗎？我們開始吧。
```

### 視覺建議
- 背景：簡潔的漸層或純色
- 文字動畫：痛點逐條出現
- 配色：專業但不死板

---

## 💡 第二部分：金流定義與使用場景

### 簡報要點

**Slide 1: 什麼是金流？**
- 定義：第三方支付收款平台
- 常見平台：綠界、藍新、PAYUNi、統一金流
- vs 銀行：概念類似，但本課聚焦第三方支付

**Slide 2: 什麼時候需要金流？**
- 販售數位產品（課程、軟體訂閱）
- 實體商品電商
- 服務預約付款（諮詢、場地租借）
- SaaS 訂閱制服務

**Slide 3: 金流不只是收錢**
- 訂單管理（狀態追蹤）
- 交易記錄（對帳、報表）
- 異常處理（退款、取消）
- 安全性（防偽造、防重複扣款）

### 口語腳本提示

```
【金流定義】
首先，我們要先定義一下，這門課講的「金流」是什麼。

我們這裡說的金流，主要是指綠界、藍新、PAYUNi、統一金流
這類的「第三方支付收款平台」。

你可能會想，那跟銀行直接串接有什麼不同？
概念其實差不多，但我自己沒有接銀行的經驗，
所以這門課會聚焦在第三方支付平台上。

【使用場景】
那什麼時候你會需要金流呢？

最常見的就是這幾種情況：
- 你在賣數位產品，像是線上課程、軟體訂閱
- 你有實體商品的電商網站
- 你提供服務預約付款，像是諮詢、場地租借
- 或者你做的是 SaaS 訂閱制服務

基本上，只要你的產品需要「收錢」，你就會用到金流。

【金流的完整性】
但這裡要特別強調一件事：
金流不只是「收錢」而已。

如果你只學會「收錢」，你只學會了 30% 的金流實務。真正會讓你「懷疑人生」的，是後面的 70%：金流必須涵蓋訂單管理（狀態追蹤）、交易記錄（對帳、報表）、異常處理（退款、取消）安全性。
你可能不知道這些 know what 但沒關係，我會提供你如何用系統思維，把這些複雜的環節都納入考量。

它是一整套系統，包含：
- 訂單管理：你要追蹤每一筆交易的狀態
- 交易記錄：你要能對帳、產生報表
- 異常處理：如果客戶要退款、取消，你要怎麼處理
- 安全性：你要怎麼防止有人偽造請求、或者重複扣款

這些，都是我們串接金流時要考慮的事情。

這也是為什麼，我說「金流最難的地方不是技術」。
因為技術只是一部分，更重要的是你要知道「整個系統怎麼運作」。
```

### 視覺建議
- 使用 icon 表示不同的使用場景
- 金流的完整性用流程圖或心智圖呈現
- 使用不同顏色區分不同功能模塊

---

## 🔧 第三部分：金流串接方式分類

### 簡報要點

**Slide 1: 金流的串接方式**
- 付款頁模式（Hosted Payment Page）
- 幕後交易模式（Direct Payment）
- 兩者的核心差異

**Slide 2: 付款頁模式**
- 流程圖：使用者 → 導向金流官方頁面 → 完成付款 → 返回平台
- 特點：信用卡資料由金流方處理
- 範例截圖：綠界、PAYUNi 官方付款頁

**Slide 3: 幕後交易模式**
- 流程圖：使用者 → 在平台上輸入卡號 → 平台傳送到金流 → 返回結果
- 特點：信用卡資料經過平台伺服器
- 需要：更高的資安規範（PCI DSS）

### 口語腳本提示

```
【串接方式介紹】
好，了解金流的定義和使用場景後，
接下來我們要看：金流到底有哪些串接方式？

主要有兩大類：
1. 付款頁模式
2. 幕後交易模式

這兩種方式的核心差異，在於「使用者在哪裡輸入信用卡資料」。

【付款頁模式】
先看付款頁模式。

流程是這樣的：
1. 使用者在你的網站上點「結帳」
2. 你把他導向到金流官方的付款頁面
3. 使用者在金流的頁面上輸入信用卡資料
4. 付款完成後，金流再把使用者導回你的網站

（這裡展示 PAYUNi 官方付款頁的截圖）

看到了嗎？信用卡資料完全不經過你的伺服器。
是使用者直接在金流的頁面上輸入的。

【幕後交易模式】
再看幕後交易模式。

流程是：
1. 使用者在你的網站上點「結帳」
2. 在你的網站上直接輸入信用卡資料
3. 你的伺服器把這些資料傳送給金流
4. 金流處理完後，把結果返回給你

注意到了嗎？
在這個模式下，信用卡資料會經過你的平台。

這代表什麼？
代表你要負責保護這些資料的安全。
你可能還要符合 PCI DSS 這種資安規範。

【兩者比較】
所以簡單來說：
- 付款頁模式：使用者在金流的頁面上輸入卡號
- 幕後交易模式：使用者在你的頁面上輸入卡號

一個不經手信用卡資料，一個要經手。

那我們應該選哪一個？
這就要看我們的需求了。
```

### 視覺建議
- 使用流程圖清楚標示資料流向
- 用不同顏色標示「信用卡資料」的傳輸路徑
- 截圖要清晰，可以加上標註

---

## ⚖️ 第四部分：需求分析與技術選型

### 簡報要點

**Slide 1: 我們的目標與考量**
- 🎯 目標：快速串接金流，產品能上線收款
- ⚖️ 考量因素：
  - 開發成本（時間、複雜度）
  - 維護成本（資安、除錯）
  - 使用者體驗（付款流程順暢度）
  - 風險控管（資料外洩、詐騙）

**Slide 2: 決策矩陣（表格）**

| 評估標準 | 付款頁模式 | 幕後交易模式 |
|---------|-----------|-------------|
| **開發複雜度** | ⭐⭐ 低 | ⭐⭐⭐⭐ 高 |
| **資安責任** | ⭐⭐ 金流方處理 | ⭐⭐⭐⭐⭐ 平台全責 |
| **維護成本** | ⭐⭐ 低 | ⭐⭐⭐⭐ 高 |
| **UI 自訂性** | ⭐⭐ 受限 | ⭐⭐⭐⭐⭐ 完全自訂 |
| **適用場景** | 中小型產品 | 大型電商 |
| **我們的選擇** | ✅ | ❌ |

**Slide 3: 決策理由**
對於「第一次做金流」或「中小型產品」：
- ✅ 付款頁模式讓我們專注在「產品邏輯」
- ✅ 不用經手信用卡資料 = 資安壓力大幅降低
- ✅ 開發速度快，容易除錯
- ✅ 出問題時責任歸屬清楚

### 口語腳本提示

```
【需求分析】
好，現在我們知道有兩種串接方式了。
那我們應該選哪一個？

在做選擇之前，我們要先問自己：我們的目標是什麼？

我們的目標很簡單：
快速串接金流，讓產品能上線收款。

但光有目標還不夠，我們還要考慮幾個因素：
- 開發成本：我們要花多少時間、複雜度有多高
- 維護成本：後續的資安、除錯會不會很麻煩
- 使用者體驗：付款流程順不順暢
- 風險控管：如果出問題，風險有多大

【決策框架】
我這裡用一個表格，帶大家比較一下這兩種方式。

（展示表格）

你看，付款頁模式：
- 開發複雜度低，基本上就是導向、接收回呼
- 資安責任在金流方，我們不用經手信用卡資料
- 維護成本低，不太會有奇怪的問題
- 但 UI 自訂性受限，因為付款頁是金流的

幕後交易模式：
- 開發複雜度高，你要自己處理信用卡資料的加密傳輸
- 資安責任全在你身上，你要符合 PCI DSS 規範
- 維護成本高，任何資安漏洞都可能是大問題
- 但 UI 可以完全自訂，使用者體驗更好

【做決策】
那我們應該選哪一個？

如果你是大型電商，可能會選幕後交易。
因為你有資源投入資安、你需要完全掌控使用者體驗。

但如果你是：
- 第一次做金流
- 或者是中小型產品
- 或者你想快速上線

那付款頁模式絕對是更好的選擇。

為什麼？

因為付款頁模式讓我們可以專注在「產品邏輯」上。
我們不用花時間去研究怎麼加密信用卡資料、
不用擔心資安漏洞、不用處理一堆邊界情況。

開發速度快、容易除錯、出問題時責任歸屬也清楚。

這就是我說的「判斷力」：
知道哪些環節能省、哪些一省就會出事。

在這個情況下，選付款頁模式，
就是一個「能省」的地方。
```

### 視覺建議
- 表格要清晰，使用顏色標示優劣
- 星星評級要一致
- 決策理由用 icon + 文字呈現

---

## 🎯 第五部分：選擇 PAYUNi 與付款頁模式

### 簡報要點

**Slide 1: 為什麼選 PAYUNi？**
1. 完整的 Sandbox 測試環境
2. 文件清晰、流程標準
3. 實際商用經驗
4. 學完可以類推

**Slide 2: PAYUNi 文件截圖**
- 官方 API 文件頁面
- 流程圖範例
- Sandbox 測試環境說明

**Slide 3: 付款頁模式的實際流程**
- PAYUNi UPP 付款頁的流程圖（官方版）
- 標註關鍵節點

### 口語腳本提示

```
【選擇 PAYUNi】
好，我們決定用付款頁模式了。
那接下來的問題是：要選哪一家金流平台？

這門課，我選擇用 PAYUNi。

為什麼？

第一，它有完整的 Sandbox 測試環境。
任何人都能免費註冊測試，不需要先有商家資格。
這對學習和開發階段來說非常重要。

第二，文件清晰、流程標準。
（展示 PAYUNi 官方文件截圖）
你看，API 文件結構很完整，流程圖也很清楚。

第三，我自己也申請通過了正式商家。
所以我能帶大家看完整的實戰流程，
不是只停在測試階段。

第四，學完可以類推。
綠界、藍新、統一金流，這些平台的邏輯都類似，
差別只是參數名稱、API 格式不同。

學會一家，其他家只是查文件、改參數的問題。

【PAYUNi 的付款頁流程】
（展示 PAYUNi 官方流程圖）

這是 PAYUNi 官方的流程圖。

但這個流程你會注意到，他只是一個很粗糙的業務流程，對吧？
實際上我們的系統需要考慮到更多問題：
例如訂單的儲存在哪個時間點？
例如我們怎麼知道是誰買東西？
例如假設金流平台有延遲性，我們要怎麼同步？
例如使用者說他看到付款成功，但仍然顯示未付款，我們要怎麼處理？

因此，我們需要在後續章節深入學習，教會你如何擁有這種警覺性。

【小結】
所以，總結一下這一章：
- 我們選擇「付款頁模式」，因為開發快、資安壓力低
- 我們選擇「PAYUNi」，因為文件清楚、有測試環境
- 這樣的選擇，讓我們可以專注在產品邏輯上
```

### 視覺建議
- PAYUNi logo 和官方配色
- 截圖要高解析度
- 流程圖建議重新繪製（更清晰）

---

## 🚀 第六部分：結尾 - 課程預覽

### 簡報要點

**Slide 1: 這門課會帶你做出什麼？**
接下來的章節，我們會一起：
- ✅ 分析金流的完整流程（業務流程 vs 程式流程）
- ✅ 設計訂單資料結構與狀態管理
- ✅ 實作前端付款頁面
- ✅ 處理後端金流串接與 webhook
- ✅ 做好資安防護（防偽造、防重複通知）
- ✅ 部署上線與測試

**Slide 2: 最後你會有**
- 🎯 一個完整可運行的金流專案
- 🎯 清楚的金流系統思維
- 🎯 可以放進履歷的作品
- 🎯 未來可以做十個產品的能力

**Slide 3: 下一章預告**
金流傳輸流程深度拆解
- 官方流程圖 vs 實際程式流程
- webhook 與 returnURL 的坑
- 我們的解決方案設計

### 口語腳本提示

```
【課程預覽】
好，現在你已經知道：
- 金流有哪些串接方式
- 我們為什麼選付款頁模式
- 我們為什麼選 PAYUNi

但這只是開始。

接下來的章節，我會帶你一起：
- 拆解金流的完整流程
- 設計訂單的資料結構和狀態管理
- 實作前端的付款頁面
- 處理後端的金流串接和 webhook
- 做好資安防護，防止偽造、防止重複通知
- 最後把整個專案部署上線

【最終成果】
看完整門課，你會有：
- 一個可運行的金流專案
- 清楚的金流系統思維
- 可以放進履歷的作品
- 最重要的是：未來可以做十個產品的能力

因為你學到的不只是「怎麼做」，
更是「為什麼這樣做」、「怎麼判斷」。

【下一章預告】
下一章，我會帶你深度拆解金流的傳輸流程。

我們會看到：
- 官方的業務流程圖，跟實際的程式流程有什麼差異
- webhook 和 returnURL 會遇到什麼坑
- 我們要怎麼設計解決方案

準備好了嗎？我們下一章見！
```

### 視覺建議
- 用 icon 視覺化每個學習成果
- 下一章預告用懸念式設計
- 結尾可以放課程整體架構圖

---

## 📊 製作檢查清單

### 簡報製作
- [ ] 每個 Slide 要點清晰，不超過 5 個要點
- [ ] 使用一致的配色和字體
- [ ] 圖表、流程圖清晰易讀
- [ ] 截圖解析度足夠
- [ ] 動畫不要太花俏

### 錄製前準備
- [ ] 口語腳本已熟悉（不需要背，但要知道脈絡）
- [ ] PAYUNi 官方文件截圖已準備
- [ ] 流程圖已重新繪製（可選）
- [ ] 錄製環境安靜、光線充足
- [ ] 麥克風測試完成

### 錄製時注意
- [ ] 語速適中，不要太快
- [ ] 停頓要自然，給觀眾思考時間
- [ ] 重點處加重語氣
- [ ] 保持生活化的表達風格
- [ ] 預計 12-15 分鐘

### 後製檢查
- [ ] 剪掉明顯的口誤或停頓過長的部分
- [ ] 音量一致
- [ ] 字幕準確（如果有）
- [ ] 導出逐字稿
- [ ] 基於逐字稿 + 本大綱生成精煉文章

---
