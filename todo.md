# 🎯 金流串接系統 - 重構執行清單

> **目標**：整理程式碼、提升可維護性、完整中文化
> **預計工期**：3-4 週（每天 2-4 小時）
> **更新日期**：2025-12-02

---

## 📅 第 1 週：文檔 + 後端基礎中文化

### ✅ 已完成
- [x] **Task 1.1** - 建立單一索引文件 README.md
- [x] **Task 1.2** - 保留關鍵配置文檔（刪除冗餘文檔）
- [x] **Task 5.1** - 後端常數與配置中文化（constants.js）
- [ ] **Task 5.2** - 錯誤訊息中文化（errors.js）
- [ ] **Task 5.3** - 日誌訊息中文化（所有 logger 呼叫）

---

## 📅 第 2 週：前端模組化 + 中文化

### 進行中
- [ ] **Task 3.1.1** - 建立模組資料夾結構（_frontend/public/js/modules/）
- [ ] **Task 3.1.2** - 拆分 auth.js（認證管理）
- [ ] **Task 3.1.3** - 拆分 products.js（商品管理）
- [ ] **Task 3.1.4** - 拆分 payment.js（支付管理）
- [ ] **Task 3.1.5** - 建立 ui.js 工具模組
- [ ] **Task 3.1.6** - 建立主進入點 main.js
- [ ] **Task 3.1.7** - 更新 HTML 引用（修改 script 標籤）
- [ ] **Task 5.4** - 前端模組中文化（auth.js、products.js、payment.js、ui.js）
- [ ] **Task 5.5** - HTML 介面中文化（index.html 所有使用者可見文字）

---

## 📅 第 3 週：後端重構 + 品質提升

### 待辦
- [ ] **Task 2.2** - 優化 PayuniSDK（提取共用邏輯、統一回應格式）
- [ ] **Task 2.3** - 簡化 Webhook 處理邏輯（建立 webhookHandler.js）
- [ ] **Task 2.4** - 強化錯誤處理（errors.js 新增更多錯誤類型）
- [ ] **Task 4.1** - 新增 JSDoc 註釋（所有公開方法）
- [ ] **Task 4.2** - 統一命名規範（檔案、類別、函數、常數）

---

## 📅 第 4 週：測試 & 驗收（選做）

### 待辦
- [ ] **Task 4.3** - 新增單元測試（Vitest 或 Jest）

---

## 📊 進度統計

**總任務數**：21 項
**已完成**：3 項（14%）
**進行中**：0 項（0%）
**待辦**：18 項（86%）

---

## 📝 注記

### 優先級說明
- **HIGH（高）**：影響功能，必須優先完成
- **MEDIUM（中）**：提升品質，順序可調整

### 測試清單（每個階段完成後執行）
- [ ] 使用者登入登出
- [ ] 商品列表顯示
- [ ] 一次性支付流程
- [ ] 訂閱制支付流程
- [ ] Webhook 通知處理
- [ ] 訂單歷史查詢

---

**維護者**：開發團隊
**版本**：v1.0
