# 設計理念

這份文件，想跟你聊聊「為什麼」。

我們相信，理解「金流整合實戰包」背後的設計思考，能幫助你在未來客製化或擴充功能時，更有方向、也更踏實。

---

### 原則一：安全，是我們的第一考量

我們知道，串接金流最大的坎，往往就是對安全與技術實作的不確定感。

所以，這個實戰包最重要的目標，就是給你一個起點、降低那個坎、減少你的阻力。

**我們是這樣做的：**

1.  **多層次防禦**：專案內建了從外到內的防護體系，包含人機驗證、安全標頭、來源控制、CSRF 權杖等。詳情可以參考 `02_SECURITY_DEEP_DIVE.md`。
2.  **最小權限原則**：將敏感操作切分到獨立的 API 端點，每個端點只做它該做的事。
3.  **不碰敏感資料**：你的伺服器永遠不會接觸或儲存信用卡號碼。所有支付都在 Payuni 的官方環境中完成，從根本上杜絕了伺服器資料外洩的風險。
4.  **機敏資訊隔離**：所有金鑰、密碼都透過 `.env` 管理，與程式碼完全分離。這是業界的通用做法，安全且方便。

#### 關於安全，我們想對你說

資安是一個持續演進的領域。這個實戰包提供的是一個遵循當下安全原則所打造的「穩固起點」，並希望能藉此傳遞給你一套防禦性的開發思維。

---

### 原則二：簡潔，是為了讓你容易上手

我們相信，好的程式碼是寫給人看的。因此，專案在設計上，極度重視可讀性與長期可維護性。

**技術選型：**
我們選擇這套技術組合，是為了給你一個穩定、透明且好擴充的基礎：

- **後端 (Express.js)**：我們選擇 Express.js，因為它在 Node.js 生態中久經考驗、社群龐大。它「無魔法」的設計，讓所有後端邏輯都以最直觀的方式呈現，使你能完全掌控每一行程式碼。

- **前端 (原生技術)**：我們刻意不導入 React 或 Vue 等前端框架，目的是剝離不必要的複雜性，讓你專注在金流邏輯本身。採用原生 HTML, CSS, JavaScript，盡可能確保以下幾點：
  1.  **低學習門檻**：只要有網頁基礎就能輕鬆上手。
  2.  **對 AI 更友善**：原生三本柱是 AI 模型本就十分擅長理解與修改的領域，能大幅提升你與 AI 協作、共讀的效率。
  3.  **零編譯步驟**：免除複雜的前端環境設定，提供最純粹的開發體驗。

這個乾淨的基礎，也讓你未來想整合進任何你熟悉的框架時，過程會變得非常純粹。

---

### 原則三：彈性擴充，成本可控

一個好的起點，應該是低成本且高彈性的。

1.  **穩固的核心，無限的可能**：我們已經處理完金流串接最複雜的部分：安全、加密、驗證與非同步通知。這代表你得到的是一個良好的基礎，可以借鑒並專注於開發你預想的功能。

2.  **零成本資料庫方案 (Google Sheets)**：在專案初期，我們策略性地選擇 Google Sheets，因為它：
    _ **免費**：在極大的用量內完全免費。
    _ **直觀**：訂單就像你熟悉的 Excel 表格，無需學習 SQL。 \* **易整合**：透過內附的 GAS 與 n8n 範本，可以輕易地將訂單資料與你的其他工具串連。
    當未來業務成長需要更換資料庫時，由於邏輯已經解耦，遷移的過程會相對平滑。

3.  **部署友好**：專案的結構對現代化的部署平台（如 Zeabur）非常友好，讓你動動手指就能將服務上線。

---

### 原則四：豐富的文件內容

文件，無異是最泛用的資源，我們實戰包有大量的文字文件內容，旨在提供資訊外、也希望可以方便讓 AI 讀取並解決你的疑惑，
甚至是參考本實戰包的內容在你的既有程式碼專案進行金流串接功能的開發！

### 結論

我們這次準備「金流整合實戰包」不是只給你一套程式碼模板讓你複製貼上就結束了！
所有的內容，都是為了讓你有辦法掌握這部分的原理和知識，讓你除了學會串接金流，還能有豐富的收穫。
